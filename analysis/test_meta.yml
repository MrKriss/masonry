package:
  name: condition_monitoring
  version: "{{ GIT_DESCRIBE_TAG }}" # {{ environ.get('CI_BUILD_TAG', '0.0.0') }}

build:
  noarch: python
  number: "{{ GIT_DESCRIBE_NUMBER }}" # {{ environ.get('CI_BUILD_ID', 0) }}
  string: "{{ GIT_BUILD_STR }}"
  entry_points:
     - condition_monitoring = condition_monitoring.command_line:command_line_entry_point

source:
  path: ../../

requirements:
  build:
    - python >=3.6
    - setuptools_scm ==1.15.0

  run:
    - python ==3.6
    - pandas ==0.19.2
    - numpy ==1.12.0
    - scipy ==0.18.1
    - python-dateutil ==2.6.0
    - pytz ==2016.10
    - six ==1.10.0

test:
  source_files: 
   - package/tests/data/*.CSV
   - package/tests/data/*.ini
   - package/tests/test_*.py

  requires: 
    - pytest ==3.0.7
    - pytest-cov ==2.3.1
    - pytest-runner ==2.11.1

  # Python imports
  imports:
    - condition_monitoring.clean
    - condition_monitoring.command_line
    - condition_monitoring.event_detectors
    - condition_monitoring.experiment
    - condition_monitoring.sax
    - condition_monitoring.utils

  commands:
    - condition_monitoring -h

  # A file called run_test.py is also included in the recipe that will be run
  # at test time.

# See
# http://docs.continuum.io/conda/build.html for
# more information about meta.yaml